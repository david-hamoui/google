<!-- Search Bar -->
<div class="gcse-searchbox-only"></div>

<!-- Search Results in an iframe -->
<iframe id="results-frame" style="width: 100%; height: 80vh; border: none;"></iframe>

<!-- Load the CSE script once -->
<script async src="https://cse.google.com/cse.js?cx=b2da4241cf16f4a0d"></script>

<script>
    // Function to listen for search queries and load results in the iframe
    function loadResults(query) {
      const iframe = document.getElementById("results-frame");
      const cx = "b2da4241cf16f4a0d";
      const url = `https://cse.google.com/cse?cx=${cx}&q=${encodeURIComponent(query)}`;
      iframe.src = url;
    }
  
    // Listen for input changes and trigger the search
    window.addEventListener("load", () => {
      const observer = new MutationObserver(() => {
        const searchBox = document.querySelector(".gsc-input");
        if (searchBox) {
          searchBox.addEventListener("keypress", (event) => {
            if (event.key === "Enter") {
              event.preventDefault();
              loadResults(searchBox.value);
            }
          });
          observer.disconnect(); // Stop observing once the input is found
        }
      });
      // Observe changes to the body to find the search box
      observer.observe(document.body, { childList: true, subtree: true });
    });
</script>
